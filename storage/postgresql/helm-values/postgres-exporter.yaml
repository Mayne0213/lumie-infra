# Prometheus Postgres Exporter Helm Values
# Chart: https://github.com/prometheus-community/helm-charts/tree/main/charts/prometheus-postgres-exporter
# Note: This exporter monitors postgresql-primary

fullnameOverride: postgres-exporter

config:
  datasource:
    host: postgresql-primary.postgresql.svc.cluster.local
    port: "5432"
    user: bluemayne
    passwordSecret:
      name: postgresql-password
      key: password
    database: postgres
    sslmode: disable

serviceMonitor:
  enabled: true
  namespace: monitoring
  additionalLabels:
    release: prometheus

resources:
  requests:
    memory: 64Mi
    cpu: 5m  # Reduced from 50m based on actual usage (1-2m)
