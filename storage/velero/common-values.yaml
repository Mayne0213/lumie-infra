# Common chart values for velero
common:
  name: velero

  # Disable deployment (external chart creates it)
  deployment:
    enabled: false

  service:
    enabled: false

  ingress:
    enabled: false

  # Health check ingress for velero-ui
  additionalIngresses:
    - name: health
      annotations:
        cert-manager.io/cluster-issuer: letsencrypt-prod
        traefik.ingress.kubernetes.io/router.priority: "100"
      className: traefik
      hosts:
        - host: velero0213.kro.kr
          paths:
            - path: /health
              pathType: Exact
      tls:
        - secretName: velero-ui-tls
          hosts:
            - velero0213.kro.kr
      serviceName: velero-ui
      servicePort: 3000

  # Vault Static Secrets (VSO)
  vaultStaticSecrets:
    - name: minio-vss
      path: bootstrap/minio
      destination:
        name: velero-s3-credentials
        transformation:
          templates:
            cloud: |
              [default]
              aws_access_key_id={{ .Secrets.MINIO_ROOT_USER }}
              aws_secret_access_key="{{ .Secrets.MINIO_ROOT_PASSWORD }}"
