---
# Global variables for all hosts

# K3s Version (matches current server: v1.34.3+k3s1)
k3s_version: "v1.34.3+k3s1"

# K3s Installation
k3s_install_url: "https://get.k3s.io"

# K3s Network Configuration
k3s_cluster_cidr: "10.42.0.0/16"
k3s_service_cidr: "10.43.0.0/16"

# Master Private IP (used for cluster communication)
k3s_master_private_ip: "10.0.0.241"
k3s_master_url: "https://{{ k3s_master_private_ip }}:6443"

# Common packages to install
common_packages:
  - curl
  - wget
  - git
  - vim
  - htop
  - iptables
  - netfilter-persistent

# Kernel modules required for K3s
kernel_modules:
  - br_netfilter
  - overlay

# Sysctl settings for K3s
sysctl_settings:
  net.bridge.bridge-nf-call-iptables: 1
  net.bridge.bridge-nf-call-ip6tables: 1
  net.ipv4.ip_forward: 1

# Token file location on master
k3s_token_file: "/var/lib/rancher/k3s/server/node-token"

# Kubeconfig file location on master
k3s_kubeconfig: "/etc/rancher/k3s/k3s.yaml"

# Local kubeconfig fetch directory
local_kubeconfig_dir: "{{ playbook_dir }}/../kubeconfig"
