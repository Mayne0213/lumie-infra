# Common chart values for code-server
# All access via Teleport (no external ingress)

common:
  name: code-server

  # Disable deployment (external chart creates it)
  deployment:
    enabled: false

  service:
    enabled: false

  ingress:
    enabled: false

  # No external ingress - access via Teleport only

  # RBAC - ClusterRoleBinding for cluster-admin access
  rbac:
    enabled: true
    serviceAccount:
      create: false  # ServiceAccount created by helm chart
    clusterRoleBindings:
      - name: code-server-cluster-admin
        roleRef:
          kind: ClusterRole
          name: cluster-admin
        subjects:
          - kind: ServiceAccount
            name: code-server
            namespace: code-server
