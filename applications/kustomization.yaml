apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  # Self-reference for App of Apps pattern
  - application.yaml

  # ArgoCD self-management (installed by Ansible, managed by GitOps)
  - argocd/argocd.yaml

  - docusaurus/argocd.yaml
  - code-server/argocd.yaml
  - umami/argocd.yaml
  - headlamp/argocd.yaml
  - mas/argocd.yaml
  - joossam/argocd.yaml
  # - poolc-dev/argocd.yaml  # disabled

  # Tekton CI/CD
  - tekton/pipeline/argocd.yaml
  - tekton/triggers/argocd.yaml
  - tekton/dashboard/argocd.yaml
  - tekton/ci-cd/argocd.yaml

  # LUMIE Platform
  - lumie/argocd.yaml
  - lumie-dev/argocd.yaml
  - lumie/tenant-svc/argocd.yaml
  - lumie/auth-svc/argocd.yaml
  - lumie/billing-svc/argocd.yaml
  - lumie/academy-svc/argocd.yaml
  - lumie/exam-svc/argocd.yaml
  - lumie/content-svc/argocd.yaml
  - lumie/file-svc/argocd.yaml
  - lumie/grading-svc/argocd.yaml
  - lumie/spreadsheet-svc/argocd.yaml
  - lumie/lumie-frontend/argocd.yaml
