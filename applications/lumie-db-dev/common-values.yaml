# Common chart values for LUMIE Dev Database
# Minimal CNPG Cluster for local development with mirrord

common:
  name: lumie-db-dev

  # Disable deployment (database only)
  deployment:
    enabled: false

  service:
    enabled: false

  ingress:
    enabled: false

  # CNPG Database configuration (minimal for dev)
  database:
    enabled: true
    clusterName: lumie-db-dev
    instances: 1  # Single instance (no HA needed for dev)
    version: "16.6"
    name: lumie
    owner: lumie
    encoding: UTF8
    localeCollate: C
    localeCType: C
    enableSuperuserAccess: true
    storage:
      class: local-path
      size: 5Gi  # Smaller storage for dev
    resources:
      memory: 256Mi  # Minimal resources
      cpu: 50m
    postgresql:
      parameters:
        max_connections: "100"
        shared_buffers: "64MB"
        effective_cache_size: "192MB"
        maintenance_work_mem: "32MB"
        checkpoint_completion_target: "0.9"
        wal_buffers: "4MB"
        default_statistics_target: "100"
        random_page_cost: "1.1"
        effective_io_concurrency: "200"
        work_mem: "1MB"
        min_wal_size: "128MB"
        max_wal_size: "1GB"
    backup:
      enabled: false
