# Common chart values for LUMIE
# CNPG Cluster for multi-tenant platform

common:
  name: lumie

  # Disable deployment (no application deployment, only database)
  deployment:
    enabled: false

  # Disable service/ingress
  service:
    enabled: false

  ingress:
    enabled: false

  # CNPG Database configuration
  database:
    enabled: true
    clusterName: lumie
    instances: 2
    version: "16.6"
    name: lumie
    owner: lumie
    encoding: UTF8
    localeCollate: C
    localeCType: C
    enableSuperuserAccess: true
    storage:
      class: local-path
      size: 20Gi
    resources:
      memory: 512Mi
      cpu: 100m
    postgresql:
      parameters:
        max_connections: "200"
        shared_buffers: "128MB"
        effective_cache_size: "384MB"
        maintenance_work_mem: "64MB"
        checkpoint_completion_target: "0.9"
        wal_buffers: "8MB"
        default_statistics_target: "100"
        random_page_cost: "1.1"
        effective_io_concurrency: "200"
        work_mem: "2MB"
        min_wal_size: "256MB"
        max_wal_size: "2GB"
    backup:
      enabled: false
