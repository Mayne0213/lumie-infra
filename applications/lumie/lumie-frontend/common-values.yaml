common:
  name: lumie-frontend
  namespace: lumie-frontend

  deployment:
    enabled: true

  replicaCount: 2

  image:
    registry: zot0213.kro.kr
    repository: applications/lumie-frontend
    tag: "c6161aa4"
    pullPolicy: IfNotPresent

  ports:
    - name: http
      containerPort: 3000
      protocol: TCP

  podSecurityContext:
    runAsNonRoot: true
    runAsUser: 1001
    runAsGroup: 1001
    fsGroup: 1001

  securityContext:
    runAsNonRoot: true
    allowPrivilegeEscalation: false
    capabilities:
      drop:
        - ALL

  env:
    - name: NODE_ENV
      value: "production"
    - name: TENANT_SVC_URL
      value: "http://tenant-svc.lumie-platform.svc:8080"
    - name: AUTH_SVC_URL
      value: "http://auth-svc.lumie-platform.svc:8080"
    - name: BILLING_SVC_URL
      value: "http://billing-svc.lumie-platform.svc:8080"

  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      memory: 256Mi

  healthCheck:
    enabled: true
    port: http
    livenessProbe:
      path: /api/health
      initialDelaySeconds: 10
      periodSeconds: 10
      timeoutSeconds: 5
      failureThreshold: 3
    readinessProbe:
      path: /api/health
      initialDelaySeconds: 5
      periodSeconds: 5
      timeoutSeconds: 3
      failureThreshold: 3

  service:
    enabled: true
    type: ClusterIP
    ports:
      - name: http
        port: 3000
        targetPort: http
        protocol: TCP

  ingress:
    enabled: false

  serviceMonitor:
    enabled: false
