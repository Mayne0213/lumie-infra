# OpenTelemetry Operator Helm Values
# Chart: https://github.com/open-telemetry/opentelemetry-helm-charts/tree/main/charts/opentelemetry-operator

# Manager (Operator) configuration
manager:
  collectorImage:
    repository: otel/opentelemetry-collector-contrib
  targetAllocatorImage:
    repository: ghcr.io/open-telemetry/opentelemetry-operator/target-allocator
  autoInstrumentationImage:
    java:
      repository: ghcr.io/open-telemetry/opentelemetry-operator/autoinstrumentation-java
    nodejs:
      repository: ghcr.io/open-telemetry/opentelemetry-operator/autoinstrumentation-nodejs
    python:
      repository: ghcr.io/open-telemetry/opentelemetry-operator/autoinstrumentation-python
    dotnet:
      repository: ghcr.io/open-telemetry/opentelemetry-operator/autoinstrumentation-dotnet
    go:
      repository: ghcr.io/open-telemetry/opentelemetry-operator/autoinstrumentation-go
  resources:
    limits:
      cpu: null  # Disable chart default CPU limits
      memory: 256Mi
    requests:
      cpu: 10m
      memory: 256Mi

# Admission webhooks (uses cert-manager self-signed CA)
admissionWebhooks:
  certManager:
    enabled: true

# Kube RBAC Proxy
kubeRBACProxy:
  enabled: true
  resources:
    limits:
      cpu: null  # Disable chart default CPU limits
      memory: 64Mi
    requests:
      cpu: 5m
      memory: 64Mi

# Schedule on master node
tolerations:
  - key: node-role.kubernetes.io/control-plane
    operator: Exists
    effect: NoSchedule

nodeSelector:
  node-role.kubernetes.io/control-plane: "true"
